function setup(){colorMode(HSB),img=loadImage("img/test.jpg"),glitch=new glitcher,gui=new dat.GUI,gui=new dat.GUI({load:JSON.parse(json)}),gui.add(glitch,"sourceHeight",1,600),gui.add(glitch,"horGlitch",-80,80),gui.add(glitch,"randomCopyAmount",0,10),gui.add(glitch,"modulus",2,10),gui.add(glitch,"chance",1,100)}function draw(){if(createCanvas(windowWidth,windowHeight),background(0),randomCopies=random(floor(glitch.randomCopyAmount)),modulus=floor(glitch.modulus),chance=glitch.chance,frameCount%modulus===0&&random(100)<chance)for(i=0;i<randomCopies;i++)sy[i]=round(randomGaussian(img.height/2,200)),sh[i]=glitch.sourceHeight,dx[i]=round(randomGaussian(glitch.horGlitch)),translate(dx[i],0),copy(img,0,sy[i],img.width,sh[i],dx[i],sy[i],img.width,sh[i])}function windowResized(){resizeCanvas(windowWidth,windowHeight)}var img,glitch,gui,sy=[],sh=[],dx=[],randomCopies,modulus,chance,json='{      "preset": "nice",      "closed": false,      "remembered": {        "Default": {          "0": {}      },        "lekker hoog": {          "0": {              "sourceHeight": 20,              "horGlitch": 5,              "randomCopyAmount": 2          }      },        "nice": {          "0": {            "sourceHeight": 252.39627434377644,            "horGlitch": -52.71803556308213,            "randomCopyAmount": 6.049110922946656        }    }},      "folders": {}}';